# STM32内存结构详解

## 1. 内存结构概述
STM32微控制器的内存结构主要包括以下几个部分：
- Flash存储器
- SRAM（静态随机存取存储器）
- 外部存储器（若有）

## 2. Flash存储器
Flash存储器是非易失性存储器，用于保存程序代码和一些常量数据。其内容在断电后不会丢失。STM32的Flash存储器通常分为多个扇区，可以进行单独擦除和编程。

### Flash存储器结构图
```
+---------------------------+
|          Flash            |
|---------------------------|
|     Bootloader (optional) |
|---------------------------|
|       User Code          |
+---------------------------+
```  

## 3. SRAM结构
SRAM是一种易失性存储器，用于存放变量和堆栈。它的内容在断电后会丢失。STM32通常有多个SRAM区域，具体取决于型号。

### SRAM结构图
```
+---------------------------+
|          SRAM             |
|---------------------------|
|       Stack Area         |
|---------------------------|
|       Heap Area          |
|---------------------------|
|        .bss Section      |
|---------------------------|
|        .data Section     |
+---------------------------+
``` 

## 4. .data 和 .bss 段
### 4.1 .data段
.data段用于存放已初始化的全局变量和静态变量。在程序启动时，这部分数据会从Flash复制到SRAM中。

### 4.2 .bss段
.bss段用于存放未初始化的全局变量和静态变量。大小在程序编译时确定，但不占用Flash空间。在程序启动时，该段将被清零。

## 5. 总结
STM32的内存结构在程序设计和开发过程中至关重要，理解其划分可以有效优化内存使用和提升程序性能。  
